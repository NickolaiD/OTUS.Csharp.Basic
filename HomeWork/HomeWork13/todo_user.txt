CREATE TABLE IF NOT EXISTS public.todo_user
(
    id uuid NOT NULL,
    tg_user_name character varying(32) COLLATE pg_catalog."default" NOT NULL,
    registered_at timestamp with time zone NOT NULL,
    tg_userid bigint,
    CONSTRAINT todo_user_pkey PRIMARY KEY (id)
)


CREATE UNIQUE INDEX IF NOT EXISTS idx_todo_user_tg_userid
    ON public.todo_user USING btree
    (tg_userid ASC NULLS LAST)
    WITH (deduplicate_items=True)
    TABLESPACE pg_default;


INSERT INTO public.todo_user (id, tg_user_name, registered_at, tg_userid)
VALUES (
    'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11'::uuid,
    'ivan_petrov',
    NOW(),
    123456789
);

INSERT INTO public.todo_user (id, tg_user_name, registered_at, tg_userid)
VALUES (
    'b1ffac1d-8e5f-4a3e-9c4b-2aa7bd490a22'::uuid,
    'maria_ivanova',
    NOW(),
    987654321
);

INSERT INTO public.todo_user (id, tg_user_name, registered_at, tg_userid)
VALUES (
    'c2dde3ee-7f6a-4d5b-8c9d-3bb8ce500a33'::uuid,
    'сергей_сидоров',
    NOW(),
    555666777
);

INSERT INTO public.todo_user (id, tg_user_name, registered_at, tg_userid)
VALUES (
    'd3eff4ff-8e7b-5e6c-9d0e-4cc9df610a44'::uuid,
    'alex_tech',
    NOW(),
    111222333
);

INSERT INTO public.todo_user (id, tg_user_name, registered_at, tg_userid)
VALUES (
    'e4f00550-9e8c-6f7d-0e1f-5dda0f720a55'::uuid,
    'test_user_bot',
    NOW(),
    111222334
);